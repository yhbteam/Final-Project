<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RK3568智能控制面板</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* 内联样式 */
        .video-overlay {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
        }
        
        /* 移除温度图表相关样式 */
        .sensor-chart {
            display: none;
        }
        
        .chart-container {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 顶部状态栏 -->
        <div class="top-bar">
            <div class="logo">
                <i class="fas fa-microchip"></i> RK3568
            </div>
            <div class="system-info">
                <div class="info-item">
                    <i class="fas fa-calendar"></i>
                    <span id="current-date">--</span>
                </div>
                <div class="info-item">
                    <i class="fas fa-clock"></i>
                    <span id="current-time">--:--:--</span>
                </div>
                <div class="info-item">
                    <i class="fas fa-wifi"></i>
                    <span id="zigbee-status">在线</span>
                </div>
            </div>
        </div>

        <!-- 主内容区 -->
        <div class="main-content">
            <!-- 视频监控区域 -->
            <div class="video-section">
                <div class="section-header">
                    <h2><i class="fas fa-video"></i> 视频监控</h2>
                    <button class="btn btn-sm" id="refresh-video">
                        <i class="fas fa-sync-alt"></i> 刷新
                    </button>
                </div>
                <div class="video-container">
                    <img src="http://127.0.0.1:8080/?action=stream" 
                         alt="视频监控" 
                         id="video-feed"
                         onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"640\" height=\"480\"><rect width=\"100%\" height=\"100%\" fill=\"#2c3e50\"/><text x=\"50%\" y=\"50%\" text-anchor=\"middle\" dy=\".3em\" font-family=\"Arial\" font-size=\"20\" fill=\"white\">视频加载中...</text></svg>'">
                    <div class="video-overlay">
                        <span id="video-status">正在连接...</span>
                    </div>
                </div>
            </div>

            <!-- 控制面板 -->
            <div class="control-panel">
                <!-- 温湿度监控 -->
                <div class="control-card">
                    <div class="card-header">
                        <h3><i class="fas fa-thermometer-half"></i> 环境监控</h3>
                    </div>
                    <div class="card-body">
                        <div class="sensor-row">
                            <div class="sensor-item">
                                <div class="sensor-icon temp-icon">
                                    <i class="fas fa-temperature-high"></i>
                                </div>
                                <div class="sensor-info">
                                    <div class="sensor-label">温度</div>
                                    <div class="sensor-value" id="temperature-value">-- °C</div>
                                </div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-icon hum-icon">
                                    <i class="fas fa-tint"></i>
                                </div>
                                <div class="sensor-info">
                                    <div class="sensor-label">湿度</div>
                                    <div class="sensor-value" id="humidity-value">-- %</div>
                                </div>
                            </div>
                        </div>
                        <div class="sensor-history">
                            <div class="history-label">数据记录：</div>
                            <div class="history-data" id="sensor-history">
                                暂无数据
                            </div>
                        </div>
                    </div>
                </div>

                <!-- LED控制 -->
                <div class="control-card">
                    <div class="card-header">
                        <h3><i class="fas fa-lightbulb"></i> LED亮度控制</h3>
                        <span class="led-status" id="led-percent">90%</span>
                    </div>
                    <div class="card-body">
                        <div class="control-visual">
                            <div class="led-display">
                                <div class="led-circle" id="led-circle"></div>
                                <div class="led-glow" id="led-glow"></div>
                            </div>
                        </div>
                        <div class="control-slider">
                            <input type="range" min="0" max="100" value="90" 
                                   class="slider" id="led-slider">
                            <div class="slider-markers">
                                <span>0%</span>
                                <span>25%</span>
                                <span>50%</span>
                                <span>75%</span>
                                <span>100%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 电机控制 -->
                <div class="control-card">
                    <div class="card-header">
                        <h3><i class="fas fa-cog"></i> 电机控制</h3>
                        <span class="motor-status" id="motor-status-text">停止</span>
                    </div>
                    <div class="card-body">
                        <div class="motor-visual">
                            <div class="motor-wheel" id="motor-wheel">
                                <div class="wheel-center"></div>
                                <div class="wheel-blade"></div>
                                <div class="wheel-blade"></div>
                                <div class="wheel-blade"></div>
                            </div>
                        </div>
                        <div class="control-slider">
                            <input type="range" min="-100" max="100" value="0" 
                                   class="slider" id="motor-slider">
                            <div class="slider-markers">
                                <span>-100%</span>
                                <span>-50%</span>
                                <span>停止</span>
                                <span>50%</span>
                                <span>100%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 舵机控制 -->
                <div class="control-card">
                    <div class="card-header">
                        <h3><i class="fas fa-compass"></i> 舵机控制</h3>
                        <span class="servo-angle" id="servo-angle-text">90°</span>
                    </div>
                    <div class="card-body">
                        <div class="servo-visual">
                            <div class="servo-base"></div>
                            <div class="servo-arm" id="servo-arm">
                                <div class="arm-pointer"></div>
                            </div>
                            <div class="angle-scale">
                                <span>0°</span>
                                <span>45°</span>
                                <span>90°</span>
                                <span>135°</span>
                                <span>180°</span>
                            </div>
                        </div>
                        <div class="control-slider">
                            <input type="range" min="0" max="180" value="90" 
                                   class="slider" id="servo-slider">
                        </div>
                    </div>
                </div>

                <!-- 安防控制 -->
                <div class="control-card">
                    <div class="card-header">
                        <h3><i class="fas fa-shield-alt"></i> 安防系统</h3>
                        <span class="security-status" id="security-status">正常</span>
                    </div>
                    <div class="card-body">
                        <div class="security-controls">
                            <div class="security-item">
                                <div class="security-icon">
                                    <i class="fas fa-user-check" id="infrared-icon"></i>
                                </div>
                                <div class="security-info">
                                    <div class="security-label">红外感应</div>
                                    <div class="security-state" id="infrared-state">无人</div>
                                </div>
                            </div>
                            <div class="security-item">
                                <div class="security-icon">
                                    <i class="fas fa-bell" id="buzzer-icon"></i>
                                </div>
                                <div class="security-info">
                                    <div class="security-label">蜂鸣器</div>
                                    <div class="security-switch">
                                        <label class="switch">
                                            <input type="checkbox" id="buzzer-switch">
                                            <span class="slider-round"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="event-log">
                            <div class="log-header">事件日志</div>
                            <div class="log-content" id="event-log">
                                <div class="log-item">系统启动完成</div>
                            </div>
                        </div>
                    </div>
                </div>

                

        <!-- 底部状态栏 -->
        <div class="bottom-bar">
            <div class="connection-status">
                <i class="fas fa-circle" id="connection-dot"></i>
                <span id="connection-text">已连接到设备</span>
            </div>
            <div class="version">
                RK3568 Web Control v1.0
            </div>
        </div>
    </div>

    <!-- 主JavaScript文件 -->
    <script src="script.js"></script>
</body>
</html>
